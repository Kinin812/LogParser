
# LogAnalyzer

**LogAnalyzer** — это CLI-инструмент для анализа логов Django-приложения с возможностью генерации настраиваемых отчётов.

---

## Структура проекта

```
log_analizer/
├── cli.py                 # CLI-интерфейс
├── main.py                # Точка входа
├── core/                  # Бизнес-логика: парсеры, сборщики, фабрика отчётов
├── reports/               # Реализации конкретных отчётов
├── tests/                 # Юнит-тесты
└── requirements.txt       # Зависимости
```

---

## Установка и запуск

1. **Создать виртуальное окружение** (если еще не создано):

```bash
python -m venv .venv
```

2. **Активировать виртуальное окружение**:

- На Linux/macOS:

```bash
source .venv/bin/activate
```

- На Windows:

```bash
.venv\Scriptsctivate
```

3. **Установить зависимости**:

```bash
pip install -r requirements.txt
```

4. **Запустить анализ логов**:

```bash
python -m log_analizer.main app1.log app2.log --report handlers
```
---

## Доступные отчёты

- `handlers` — группирует записи `django.request` по эндпоинтам, считает количество по уровням логов, сортирует по убыванию ошибок и добавляет итоговую строку.

---

## Тестирование и покрытие

Запуск всех тестов с покрытием:

```bash
pytest
```

Отчёт в терминале + HTML-отчёт (в папке `htmlcov/`).

---

## Пример расширения

Чтобы добавить новый тип отчёта:
1. Создайте новый файл в `reports/`, реализующий метод `print()`.
2. Зарегистрируйте его в `core/report_factory.py`.

---
